{% if collection.metafields.custom.mobile_banner != blank %}
  <div class="mobile_collection-hero">
      <img src="{{ collection.metafields.custom.mobile_banner | img_url: '767x' }}" alt="{{collection.metafields.custom.alt_text}}">
  </div>
{% endif %}

{%- if section.settings.collection_image_enable and collection.image -%}
  <div class="collection-hero"
    data-aos="hero__animation">
    <div
      class="collection-hero__image lazyload"
      data-bgset="{% render 'bgset', image: collection.image %}"
      data-sizes="auto">
    </div>
    <noscript>
      <div
        class="collection-hero__image"
        style="background-image: url({{ collection.image | img_url: '1400x' }});";
        ></div>
    </noscript>

    <div class="collection-hero__content">
      <div class="page-width text-center">
        <div class="hero__text-shadow" data-aos>
        {% comment %}  
           <header class="section-header section-header--hero" data-aos>
            <h1 class="section-header__title appear-delay">
              {{ collection.title }}
            </h1>
            {% if section.settings.show_view_all %}
            <hr class="hr--clear">
            <div class="text-center">
              <a href="{{ section.settings.featured_collection.url }}" class="btn">
                {{ 'collections.general.view_all' | t }}
              </a>
            </div>
            {% endif %}
            {%- if collection.description != blank and section.settings.description_enable -%}
              {%- assign desc_length = collection.description | size -%}
              <div class="rte section-header__description{% if desc_length < 200 %} section-header__description--large{% endif %} appear-delay-1">
                {{ collection.description }}
              </div>
            {%- endif -%}
          </header
        {% endcomment %} 
        </div>
      </div>
    </div>
  </div>
  
{%- else -%}
  <div class="page-width page-content page-content--flush-bottom">
    <header class="section-header" data-aos>
      <h2 class="section-header__title appear-delay">
        {{ collection.title }}
      </h2>
    </header>
  </div>
{%- endif -%}

{% schema %}
{
  "name": "t:sections.collection-header.name",
  "settings": [
    {
      "type": "checkbox",
      "id": "collection_image_enable",
      "label": "t:sections.collection-header.settings.collection_image_enable.label",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "description_enable",
      "label": "t:sections.collection-header.settings.description_enable.label",
      "default": true
    }
  ]
}
{% endschema %}
